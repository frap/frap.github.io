
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>CCIE ISIS Study Notes - Andrés Gasson.</title>
  <meta name="author" content="Andrés Gasson">

  
  <meta name="description" content="Information Uses OSI Connection-Less Network Services (CLNS) to communicate. It can be used as a routing protoclo for IP &ndash; Integrated IS-IS. A &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.red-elvis.net/blog/2008/11/29/isis.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/RamblingsOfAGeekyElvis" rel="alternate" title="Andrés Gasson." type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>


  

  <link rel="stylesheet" type="text/css" href="//cdn.moot.it/1/moot.css" />
<script src="//cdn.moot.it/1/moot.min.js"></script>

</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/RamblingsOfAGeekyElvis" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://www.duckduckgo.com/" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.red-elvis.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav> -->
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">CCIE ISIS Study Notes</h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-29T11:01:00+13:00" pubdate data-updated="true">Nov 29<span>th</span>, 2008</time>
        
      </p>
    
  </header>


<div class="entry-content"><h2>Information</h2>

<p>Uses OSI Connection-Less Network Services (CLNS) to communicate. It can be used as a routing protoclo for IP &ndash; Integrated IS-IS. A whole router belongs to an area, not just an interface like in OSPF (area boundaries ON the link). CLNS adressing uses NSAP adresses that have 3 components:</p>

<p> . Area address: variable length &ndash; length is decided by the AFI par .t of the area address. AFI=49 is a local address (analogous to RFC 1918). AFI=39 designs a Data Country Code and AFI=47 identifies an International Code Designator.
  . System ID: 6 octets (US GOSIP 2.0)
  . NSEL: NSAP Selector that identifies the Network Service offered. A NSEL of 0x00 designs a Network Entity Title (NET &ndash; THE router) and should be used for most IS configurations.</p>

<p>The address format is then: AA.AAAA.SSSS.SSSS.SSSS.NN which would typically look like this: 49.0001.1234.5678.9ABC.00 &ndash; a router normally has only one address but Cisco implementation supports up to 3 concurrent addresses to make re-addressing and migrations easier. I single instance of the process can be run on a box.</p>

<p>To enable IS-IS, you need to start the process and also start it on the interface</p>

<p>Configuring IS-IS as passive on a virtual interface, such as loopback 0, before enabling it on a physical interface results in an error message or the IS-IS portion of the configuration to disappear. This is because IS-IS must first be enabled on a real, physical interface, then only can it be passive on a virtual interface.</p>

<p>The behavior of the &lsquo;passive-interface&rsquo; router command is different than in IP routing. In IS-IS although it will suppress the IS-IS routing on that interface, it will include its address in the routing process. Off course, no circuit is established&hellip;</p>

<p>Bascially, the steps are:</p>

<pre><code>     Enable IS-IS

    Enable it on a physical interface
    Then only can a virtual interface be a IS-IS passive interface

  More info 

    Uses Data-Link PDUs (DLPDU) and Link-State PDUs (LSP).
    Is a Link-State protocol that uses SPF (Djikstra) to calculate shortest path between two points

    Hellos are sent every 10 second by default (change with &amp;quot;isis hello interval&amp;quot;)
    Holdtime is 3 x Hello by default (change with &amp;quot;isis hello multiplier&amp;quot;)
    Designater Router (DR) has a 0-127 priority (default=64, 0=will never be DR) (change with &amp;quot;isis priority&amp;quot;)
    Router with highest priority will PREEMPT and become the DR

    Doesn't work on NMBA multipoint if not fully meshed (hub &amp;amp; spoke) -&amp;gt; Use point-to-point subif
    Builds separate adjacencies for L1 and L2. Level-1 routing is within an area, Level-2 is between areas. Packet destined to a different area ALWAYS transit via the closest L2 router potentially making routing sub-optimal (use route leaking to modify this behavior) - L1 routers basically have a default route to the closest L2 router (the L2 router will set the ATT bit in the L1 LSPs. Routers can be L1 only, L2 only, or L1-L2. L2 area is sometimes referred to as &amp;quot;backbone&amp;quot;.
</code></pre>

<h3>Designated Intermediate System and Pseudonodes</h3>

<p>The idea behind the DIS is similar to that behind the designated router in OSPF. The DIS creates a pseudonode (a virtual node), and all the routers on a LAN, including the DIS, form an adjacency with the pseudonode instead of forming n*(n-1) order adjacencies with each other in a full mesh.</p>

<pre><code>  On a LAN, one of the routers will elect itself the DIS based on interface priority (the default is 64). If all interface priorities are the same, the router with the highest subnetwork point of attachment (SNPA) is selected. MAC addresses are the SNPA on LANs. On Frame Relay networks, the local data-link connection identifier (DLCI) is the SNPA. If the SNPA is a DLCI and is the same at both sides of a link, the router with the higher system ID (in the NSAP address) will become the DIS.
  A pseudonode LSP represents a LAN, including all ISs attached to that LAN, just as a non-pseudonode LSP represents a router, including all ISs and LANs connected with the router.




  The DIS election is pre-emptive (unlike with OSPF). If a new router boots on the LAN with a higher interface priority, it becomes the DIS, purges the old pseudonode LSP, and a new set of LSPs will be flooded.
  The DIS sends CSNPs describing all the LSPs in the database every 3 seconds. If a router needs an LSP because it is older than the LSP advertised by the DIS in its CSNP or it is missing an LSP that is listed in the CSNP, it will send a PSNP to the DIS and receive the LSP in return. This mechanism can work both ways: If a router sees that it has a newer version of an LSP, or it has an LSP that the DIS does not advertise in its CSNP, the router will send the newer or missing LSP to the DIS.
</code></pre>

<h3>Configuration</h3>

<pre><code>      Basic Configuration


      clns routing
      Turns on the CLNS/IS-IS routing process

      interface Serial0/0.1

        ip address 172.16.1.1


      ip router isis
      Turns on IS-IS for IP on an interface


      isis circuit-type level-1

      [Optional] Specifies the circuit type. Default is level-1-2.


      !


      router isis


       net 49.0001.0000.0000.0001.00
      Set the address


      passive-interface lo0

      Specifies an interface that should be part of IS-IS and suppresses IS-IS routing on that interface
</code></pre>

<p>Other Useful Commands</p>

<pre><code>      interface Serial0/0.1

        isis metric 5 level-1
</code></pre>

<p>Sets the IS-IS metric for the link.</p>

<pre><code>      isis metric 10 level-2
</code></pre>

<p>Default metric is 10 and is applied to BOTH L1 AND L2.</p>

<pre><code>      isis hello-interval 5 level-1


      isis hello-interval 5 level-2

      isis hello-multiplier 10 level-1
</code></pre>

<p>Default is 3 times hello interval for hold timers.</p>

<pre><code>      &amp;nbsp;isis hello-multiplier 10 level-2
</code></pre>

<h4>Links</h4>

<pre><code>  Introduction to Intermediate System-to-Intermediate System Protocol
  Configuring ISO CLNS
</code></pre>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Andrés Gasson</span></span>

      








  


<time datetime="2008-11-29T11:01:00+13:00" pubdate data-updated="true">Nov 29<span>th</span>, 2008</time>
      

<span class="categories">
  
    <a class='category' href='/categories/ccie/'>CCIE</a>, <a class='category' href='/categories/isis/'>ISIS</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.red-elvis.net/blog/2008/11/29/isis.html" data-via="agasson" data-counturl="http://www.red-elvis.net/blog/2008/11/29/isis.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2008/12/15/layer2.html" title="Next Post: CCIE ATM/POS Study Notes">CCIE ATM/POS Study Notes &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="http://www.red-elvis.net" alt="Home"><img src="/images/Home.png"></a>
      <a href="http://www.red-elvis.net/archives/" alt="Archives"><img src="/images/Calendar.png"></a>
      <a href="mailto:" alt="E-Mail"><img src="/images/Envelope.png"></a>
      <a href="http://www.red-elvis.net/atom.xml" alt="subscribe feed"><img src="/images/rss_big.png"></a>
      </li>
  </ul>
</section>

<section>
  <h1>About Me</h1>
	<span>
		<img src="http://www.gravatar.com/avatar/4cbc061c24e36092e7f778816082e345" alt="Gravatar of Andrés Gasson " title="Gravatar of Andrés Gasson" />
        <p>I'm a network geek, who loves programming. My favourite languages are Clojure & Python, and I especially like the reactor pattern paradigm which makes me ¡Twisted!.</p>
	</span>

</section>

<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/categories/acls' style='font-size: 108.57142857142857%'>ACLs(1)</a> <a href='/categories/atm' style='font-size: 108.57142857142857%'>ATM(1)</a> <a href='/categories/bgp' style='font-size: 108.57142857142857%'>BGP(1)</a> <a href='/categories/btrfs' style='font-size: 108.57142857142857%'>btrfs(1)</a> <a href='/categories/ccie' style='font-size: 160.0%'>CCIE(7)</a> <a href='/categories/docker' style='font-size: 108.57142857142857%'>docker(1)</a> <a href='/categories/ipv6' style='font-size: 108.57142857142857%'>IPv6(1)</a> <a href='/categories/isis' style='font-size: 108.57142857142857%'>ISIS(1)</a> <a href='/categories/l2' style='font-size: 108.57142857142857%'>L2(1)</a> <a href='/categories/linux' style='font-size: 108.57142857142857%'>linux(1)</a> <a href='/categories/msdp' style='font-size: 108.57142857142857%'>MSDP(1)</a> <a href='/categories/multicast' style='font-size: 108.57142857142857%'>Multicast(1)</a> <a href='/categories/networking' style='font-size: 108.57142857142857%'>Networking(1)</a> <a href='/categories/pim' style='font-size: 108.57142857142857%'>PIM(1)</a> <a href='/categories/pos' style='font-size: 108.57142857142857%'>POS(1)</a> <a href='/categories/reliability' style='font-size: 108.57142857142857%'>reliability(1)</a> <a href='/categories/security' style='font-size: 108.57142857142857%'>Security(1)</a> <a href='/categories/time' style='font-size: 108.57142857142857%'>Time(1)</a> </span>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/agasson@red-elvis.net?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  <h1>Latest Tweets</h1>
  <p>Let me know what you think about Red-Elvis, talk and tweet using hashtag #redelvis.</p>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("agasson", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/agasson" class="twitter-follow-button" data-show-count="false">Follow @agasson</a>
  

  <br/><br/>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/08/btrfs-and-bohdi-linux.html">Btrfs and Bohdi Linux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2009/01/25/ipv6.html">IPv6 Study Notes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2009/01/07/pim.html">PIM Study Notes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2008/12/17/acls.html">CCIE ACL Study Notes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2008/12/17/bgp.html">CCIE BGP Study Notes</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/frap">@frap</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'frap',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Andrés Gasson -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
