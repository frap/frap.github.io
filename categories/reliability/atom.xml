<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: reliability | Andrés Gasson.]]></title>
  <link href="http://www.red-elvis.net/categories/reliability/atom.xml" rel="self"/>
  <link href="http://www.red-elvis.net/"/>
  <updated>2013-07-08T16:03:27+12:00</updated>
  <id>http://www.red-elvis.net/</id>
  <author>
    <name><![CDATA[Andrés Gasson]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[bohdi linux and btrfs]]></title>
    <link href="http://www.red-elvis.net/blog/2013/07/08/btrfs-and-bohdi-linux.html"/>
    <updated>2013-07-08T00:00:00+12:00</updated>
    <id>http://www.red-elvis.net/blog/2013/07/08/btrfs-and-bohdi-linux</id>
    <content type="html"><![CDATA[<p>So I&rsquo;m looking into <a href="http://www.docker.io">docker</a> and <a href="https://github.com/dotcloud/dockerlite">dockerlite</a> for lightweight virtualisation &ndash; aka  <a href="https://help.ubuntu.com/lts/serverguide/lxc.html]">LXC&rsquo;s</a>.
Docker is programmed in <a href="http://golang.org">go</a> and not knowing anything about go I stumbled across <a href="https://github.com/dotcloud/dockerlite">dockerlite.</a> It uses bash scripts and btrfs. <a href="https://btrfs.wiki.kernel.org/index.php/Main_Page">Btrfs</a> is a cool disk format that allows sub-volumes as well as a lot of other nifty features.
Therefore I thought I would install btrfs on my <a href="http://www.bodhilinux.com">bohdi linux</a> VM which had an ext4 disk and start checking out its reliability. I used an ubuntu live CD to reconfigure the partiton following these <a href="http://www.howtoforge.com/how-to-convert-an-ext3-ext4-root-file-system-to-btrfs-on-ubuntu-12.10">conversion from ext to btrfs instructions</a>.</p>

<p>It seems to have worked well.</p>

<!-- more -->


<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>sudo btrfs filesystem show
</span><span class='line'>failed to <span class="nb">read</span> /dev/sr0
</span><span class='line'>Label: none  uuid: 84b1d850-876b-4902-abcb-80312e619d0d&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;    Total devices 1 FS bytes used 4.18GB
</span><span class='line'>    devid    1 size 7.50GB used 7.50GB path /dev/sda1
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Btrfs Btrfs v0.19&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;sudo btrfs filesystem df /
</span><span class='line'>Data: <span class="nv">total</span><span class="o">=</span>4.97GB, <span class="nv">used</span><span class="o">=</span>2.41GB
</span><span class='line'>System: <span class="nv">total</span><span class="o">=</span>32.00MB, <span class="nv">used</span><span class="o">=</span>4.00KB
</span><span class='line'>Metadata: <span class="nv">total</span><span class="o">=</span>2.50GB, <span class="nv">used</span><span class="o">=</span>1.77GB&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;sudo btrfs subvolume list /
</span><span class='line'>ID 256 top level 5 path ext2_saved&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;ls -las &lt;em&gt;ext2_saved&lt;/em&gt;
</span><span class='line'>total 3957176&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;  4 drwxr-xr-x 1 root root         10 Jul  7 17:38 .
</span><span class='line'>  0 drwxr-xr-x 1 root root        280 Jul  3 19:30 ..
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;3957172 -r&amp;#x2013;&amp;#x2014;&amp;#x2014; 1 root root 8052015104 Jan  1  1970 image&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Now I need to play with dockerlite.</p>
]]></content>
  </entry>
  
</feed>
